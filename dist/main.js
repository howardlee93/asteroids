!function(t){var e={};function o(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=4)}([function(t,e){const o={inherits(t,e){function o(){}o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=this},randomVec(t){const e=2*Math.PI*Math.random();return o.scale([Math.sin(e),Math.cos(e)],t)},scale:(t,e)=>[t[0]*e,t[1]*e],wrap:(t,e)=>t<0?e-t%e:t>e?t%e:t,dist:(t,e)=>Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)),dir(t){var e=o.norm(t);return o.scale(t,1/e)},norm:t=>o.dist([0,0],t)};t.exports=o},function(t,e,o){const i=o(0);function s(t){this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color,this.game=t.game}s.prototype.isWrappable=!0,s.prototype.draw=function(t){t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!0),t.fillStyle=this.color,t.fill()};s.prototype.move=function(t){const e=t/(1e3/60),o=this.vel[0]*e,i=this.vel[1]*e;this.pos=[this.pos[0]+o,this.pos[1]+i],this.game.isOutOfBounds(this.pos)&&(this.isWrappable?this.pos=this.game.wrap(this.pos):this.remove())},s.prototype.collideWith=function(t){},s.prototype.remove=function(){this.game.remove(this)},s.prototype.isCollidedWith=function(t){return i.dist(this.pos,t.pos)<this.radius+t.radius},t.exports=s},function(t,e,o){const i=o(0),s=o(1);function n(t){t.radius=n.RADIUS,t.color="green",s.call(this,t)}i.inherits(n,s),n.RADIUS=2,n.SPEED=10,n.prototype.isWrappable=!1,t.exports=n},function(t,e,o){const i=o(0),s=o(1),n=o(2),r="#1F50D2",c=15;let a=function(t){t.color=r,t.radius=c,t.vel=t.vel||[0,0],s.call(this,t)};i.inherits(a,s),a.prototype.fireBullet=function(){if(0===i.norm(this.vel))return;const t=i.scale(i.dir(this.vel),n.SPEED),e=[t[0]+this.vel[0],t[1]+this.vel[1]],o=new n({game:this.game,pos:this.pos,vel:e,color:this.color});this.game.add(o)},a.prototype.relocate=function(){this.pos=this.game.randomPosition(),this.vel=[0,0]},a.prototype.power=function(t){this.vel[0]+=t[0],this.vel[1]+=t[1]},t.exports=a},function(t,e,o){const i=o(5),s=o(7);window.addEventListener("DOMContentLoaded",t=>{const e=document.getElementById("game-canvas"),o=e.getContext("2d");e.width=i.DIM_X,e.height=i.DIM_Y;var n=new i;new s(n,o).start()}),console.log("Webpack is working!")},function(t,e,o){const i=o(6),s=o(2),n=o(3),r=o(0);function c(){this.asteroids=[],this.bullets=[],this.ships=[],this.addAsteroids()}c.DIM_X=1e3,c.DIM_Y=600,c.NUM_ASTEROIDS=10,c.prototype.add=function(t){if(t instanceof i)this.asteroids.push(t);else if(t instanceof s)this.bullets.push(t);else{if(!(t instanceof n))throw new Error("unknown type of object");this.ships.push(t)}},c.prototype.addAsteroids=function(){for(let t=0;t<c.NUM_ASTEROIDS;t++)this.add(new i({game:this}))},c.prototype.addShip=function(){const t=new n({pos:this.randomPosition(),game:this});return this.add(t),t},c.prototype.allObjects=function(){return[].concat(this.ships,this.asteroids,this.bullets)},c.prototype.checkCollisions=function(){const t=this.allObjects();for(let e=0;e<t.length;e++)for(let o=0;o<t.length;o++){const i=t[e],s=t[o];if(i.isCollidedWith(s)){if(i.collideWith(s))return}}},c.prototype.draw=function(t){t.clearRect(0,0,c.DIM_X,c.DIM_Y),t.fillStyle="#000000",t.fillRect(0,0,c.DIM_X,c.DIM_Y),this.allObjects().forEach(function(e){e.draw(t)})},c.prototype.isOutOfBounds=function(t){return t[0]<0||t[1]<0||t[0]>c.DIM_X||t[1]>c.DIM_Y},c.prototype.moveObjects=function(t){this.allObjects().forEach(function(e){e.move(t)})},c.prototype.randomPosition=function(){return[c.DIM_X*Math.random(),c.DIM_Y*Math.random()]},c.prototype.remove=function(t){if(t instanceof s)this.bullets.splice(this.bullets.indexOf(t),1);else if(t instanceof i)this.asteroids.splice(this.asteroids.indexOf(t),1);else{if(!(t instanceof n))throw new Error("unknown type of object");this.ships.splice(this.ships.indexOf(t),1)}},c.prototype.step=function(t){this.moveObjects(t),this.checkCollisions()},c.prototype.wrap=function(t){return[r.wrap(t[0],c.DIM_X),r.wrap(t[1],c.DIM_Y)]},t.exports=c},function(t,e,o){const i=o(0),s=o(1),n=o(2),r=o(3),c="#900C3F",a=25,p=1,l=function(t={}){t.color=c,t.radius=a,t.pos=t.pos||t.game.randomPosition(),t.vel=i.randomVec(p)||t.vel,s.call(this,t)};i.inherits(l,s),l.prototype.collideWith=function(t){return t instanceof r?(t.relocate(),!0):t instanceof n?(this.remove(),t.remove(),!0):void 0},t.exports=l},function(t,e){const o=function(t,e){this.game=t,this.ctx=e,this.ship=this.game.addShip()};o.MOVES={w:[0,-1],a:[-1,0],s:[0,1],d:[1,0]},o.prototype.start=function(t){this.bindKeyHandlers(),this.lastTime=0,requestAnimationFrame(this.animate.bind(this))},o.prototype.bindKeyHandlers=function(){const t=this.ship;Object.keys(o.MOVES).forEach(e=>{let i=o.MOVES[e];key(e,function(){t.power(i)})}),key("space",function(){t.fireBullet()})},o.prototype.animate=function(t){const e=t-this.lastTime;this.game.step(e),this.game.draw(this.ctx),this.lastTime=t,requestAnimationFrame(this.animate.bind(this))},t.exports=o}]);
//# sourceMappingURL=main.js.map